"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./lib/audio/AudioEngine.ts":
/*!**********************************!*\
  !*** ./lib/audio/AudioEngine.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* __next_internal_client_entry_do_not_use__ default auto */ class AudioEngine {\n    static getInstance() {\n        if (!AudioEngine.instance) {\n            AudioEngine.instance = new AudioEngine();\n        }\n        return AudioEngine.instance;\n    }\n    async initialize() {\n        if (this.initialized) return;\n        try {\n            await Tone.start();\n            console.log(\"Audio context started\");\n            // Set initial BPM\n            Tone.Transport.bpm.value = 120;\n            // Create metronome\n            this.metronome = new Tone.Player({\n                url: \"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhCEdNegA\",\n                loop: false\n            }).toDestination();\n            this.initialized = true;\n        } catch (error) {\n            console.error(\"Failed to initialize audio:\", error);\n        }\n    }\n    // Transport Controls\n    async play() {\n        await this.initialize();\n        if (Tone.Transport) {\n            Tone.Transport.start();\n        }\n        return true;\n    }\n    pause() {\n        if (this.initialized && Tone.Transport) {\n            Tone.Transport.pause();\n        }\n    }\n    stop() {\n        if (this.initialized && Tone.Transport) {\n            Tone.Transport.stop();\n            Tone.Transport.position = 0;\n        }\n    }\n    async startRecording() {\n        await this.initialize();\n        if (!this.recorder) {\n            this.recorder = new Tone.Recorder();\n            this.mainOut.connect(this.recorder);\n        }\n        this.recorder.start();\n        this.play();\n    }\n    async stopRecording() {\n        if (!this.recorder) return null;\n        const recording = await this.recorder.stop();\n        this.stop();\n        return recording;\n    }\n    // Track Management\n    createTrack(name) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"audio\";\n        const id = \"track_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substr(2, 9));\n        let instrument;\n        switch(type){\n            case \"midi\":\n                instrument = new Tone.PolySynth(Tone.Synth);\n                break;\n            case \"drum\":\n                instrument = new Tone.MembraneSynth();\n                break;\n            default:\n                instrument = new Tone.Player().toDestination();\n        }\n        const channel = new Tone.Channel().toDestination();\n        instrument.connect(channel);\n        const track = {\n            id,\n            name,\n            volume: 0,\n            muted: false,\n            solo: false,\n            instrument,\n            effects: [],\n            channel\n        };\n        this.tracks.set(id, track);\n        return id;\n    }\n    getTrack(id) {\n        return this.tracks.get(id);\n    }\n    getAllTracks() {\n        return Array.from(this.tracks.values());\n    }\n    deleteTrack(id) {\n        const track = this.tracks.get(id);\n        if (track) {\n            var _track_instrument;\n            (_track_instrument = track.instrument) === null || _track_instrument === void 0 ? void 0 : _track_instrument.dispose();\n            track.channel.dispose();\n            track.effects.forEach((effect)=>effect.dispose());\n            this.tracks.delete(id);\n        }\n    }\n    // Track Controls\n    setTrackVolume(trackId, volume) {\n        const track = this.tracks.get(trackId);\n        if (track) {\n            track.volume = volume;\n            track.channel.volume.value = volume;\n        }\n    }\n    setTrackMute(trackId, muted) {\n        const track = this.tracks.get(trackId);\n        if (track) {\n            track.muted = muted;\n            track.channel.mute = muted;\n        }\n    }\n    setTrackSolo(trackId, solo) {\n        const track = this.tracks.get(trackId);\n        if (track) {\n            track.solo = solo;\n            // Implement solo logic - mute other tracks when one is soloed\n            const hasSoloTracks = Array.from(this.tracks.values()).some((t)=>t.solo);\n            this.tracks.forEach((t)=>{\n                if (hasSoloTracks) {\n                    t.channel.mute = !t.solo;\n                } else {\n                    t.channel.mute = t.muted;\n                }\n            });\n        }\n    }\n    // Audio Loading\n    async loadAudioToTrack(trackId, audioUrl) {\n        const track = this.tracks.get(trackId);\n        if (track && track.instrument instanceof Tone.Player) {\n            await track.instrument.load(audioUrl);\n        }\n    }\n    // MIDI Playback\n    playNote(trackId, note) {\n        let duration = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"8n\", time = arguments.length > 3 ? arguments[3] : void 0;\n        const track = this.tracks.get(trackId);\n        if (track && track.instrument) {\n            if (track.instrument instanceof Tone.PolySynth) {\n                track.instrument.triggerAttackRelease(note, duration, time);\n            } else if (track.instrument instanceof Tone.MembraneSynth) {\n                track.instrument.triggerAttackRelease(note, duration, time);\n            }\n        }\n    }\n    // Effects\n    addEffect(trackId, effectType) {\n        var // Insert effect before the channel\n        _track_instrument, _track_instrument1;\n        const track = this.tracks.get(trackId);\n        if (!track) return;\n        let effect;\n        switch(effectType){\n            case \"reverb\":\n                effect = new Tone.Reverb(2);\n                break;\n            case \"delay\":\n                effect = new Tone.FeedbackDelay(\"8n\", 0.3);\n                break;\n            case \"distortion\":\n                effect = new Tone.Distortion(0.8);\n                break;\n            case \"filter\":\n                effect = new Tone.Filter(1000, \"lowpass\");\n                break;\n            default:\n                return;\n        }\n        (_track_instrument = track.instrument) === null || _track_instrument === void 0 ? void 0 : _track_instrument.disconnect();\n        (_track_instrument1 = track.instrument) === null || _track_instrument1 === void 0 ? void 0 : _track_instrument1.chain(effect, track.channel);\n        track.effects.push(effect);\n    }\n    // Transport Control\n    setBPM(bpm) {\n        if (this.initialized && Tone.Transport) {\n            Tone.Transport.bpm.value = bpm;\n        }\n    }\n    getBPM() {\n        if (this.initialized && Tone.Transport) {\n            return Tone.Transport.bpm.value;\n        }\n        return 120;\n    }\n    getPosition() {\n        if (this.initialized && Tone.Transport) {\n            return Tone.Transport.position.toString();\n        }\n        return \"0:0:0\";\n    }\n    setPosition(position) {\n        if (this.initialized && Tone.Transport) {\n            Tone.Transport.position = position;\n        }\n    }\n    // Loop Control\n    setLoop(start, end) {\n        if (this.initialized && Tone.Transport) {\n            Tone.Transport.setLoopPoints(start, end);\n            Tone.Transport.loop = true;\n        }\n    }\n    disableLoop() {\n        if (this.initialized && Tone.Transport) {\n            Tone.Transport.loop = false;\n        }\n    }\n    // Metronome\n    toggleMetronome(enabled) {\n        if (!this.metronome || !this.initialized || !Tone.Transport) return;\n        if (enabled) {\n            // Schedule metronome clicks on every beat\n            Tone.Transport.scheduleRepeat((time)=>{\n                var _this_metronome;\n                (_this_metronome = this.metronome) === null || _this_metronome === void 0 ? void 0 : _this_metronome.start(time);\n            }, \"4n\");\n        } else {\n            Tone.Transport.cancel();\n        }\n    }\n    // State\n    getState() {\n        var _Tone_Transport, _this_recorder;\n        return {\n            isPlaying: this.initialized && ((_Tone_Transport = Tone.Transport) === null || _Tone_Transport === void 0 ? void 0 : _Tone_Transport.state) === \"started\",\n            isRecording: ((_this_recorder = this.recorder) === null || _this_recorder === void 0 ? void 0 : _this_recorder.state) === \"started\" || false,\n            bpm: this.initialized ? this.getBPM() : 120,\n            position: this.initialized ? this.getPosition() : \"0:0:0\",\n            tracks: this.getAllTracks()\n        };\n    }\n    // Cleanup\n    dispose() {\n        var _this_recorder, _this_metronome;\n        this.tracks.forEach((track)=>{\n            var _track_instrument;\n            (_track_instrument = track.instrument) === null || _track_instrument === void 0 ? void 0 : _track_instrument.dispose();\n            track.channel.dispose();\n            track.effects.forEach((effect)=>effect.dispose());\n        });\n        this.tracks.clear();\n        (_this_recorder = this.recorder) === null || _this_recorder === void 0 ? void 0 : _this_recorder.dispose();\n        (_this_metronome = this.metronome) === null || _this_metronome === void 0 ? void 0 : _this_metronome.dispose();\n    }\n    constructor(){\n        this.initialized = false;\n        this.tracks = new Map();\n        this.recorder = null;\n        this.metronome = null;\n        this.mainOut = Tone.Destination;\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (AudioEngine);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9hdWRpby9BdWRpb0VuZ2luZS50cyIsIm1hcHBpbmdzIjoiOzZEQXVDQSxNQUFNQTtJQVlKLE9BQU9DLGNBQTJCO1FBQ2hDLElBQUksQ0FBQ0QsWUFBWUUsUUFBUSxFQUFFO1lBQ3pCRixZQUFZRSxRQUFRLEdBQUcsSUFBSUY7UUFDN0I7UUFDQSxPQUFPQSxZQUFZRSxRQUFRO0lBQzdCO0lBRUEsTUFBTUMsYUFBYTtRQUNqQixJQUFJLElBQUksQ0FBQ0MsV0FBVyxFQUFFO1FBRXRCLElBQUk7WUFDRixNQUFNQyxLQUFLQyxLQUFLO1lBQ2hCQyxRQUFRQyxHQUFHLENBQUM7WUFFWixrQkFBa0I7WUFDbEJILEtBQUtJLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDQyxLQUFLLEdBQUc7WUFFM0IsbUJBQW1CO1lBQ25CLElBQUksQ0FBQ0MsU0FBUyxHQUFHLElBQUlQLEtBQUtRLE1BQU0sQ0FBQztnQkFDL0JDLEtBQUs7Z0JBQ0xDLE1BQU07WUFDUixHQUFHQyxhQUFhO1lBRWhCLElBQUksQ0FBQ1osV0FBVyxHQUFHO1FBQ3JCLEVBQUUsT0FBT2EsT0FBTztZQUNkVixRQUFRVSxLQUFLLENBQUMsK0JBQStCQTtRQUMvQztJQUNGO0lBRUEscUJBQXFCO0lBQ3JCLE1BQU1DLE9BQU87UUFDWCxNQUFNLElBQUksQ0FBQ2YsVUFBVTtRQUNyQixJQUFJRSxLQUFLSSxTQUFTLEVBQUU7WUFDbEJKLEtBQUtJLFNBQVMsQ0FBQ0gsS0FBSztRQUN0QjtRQUNBLE9BQU87SUFDVDtJQUVBYSxRQUFRO1FBQ04sSUFBSSxJQUFJLENBQUNmLFdBQVcsSUFBSUMsS0FBS0ksU0FBUyxFQUFFO1lBQ3RDSixLQUFLSSxTQUFTLENBQUNVLEtBQUs7UUFDdEI7SUFDRjtJQUVBQyxPQUFPO1FBQ0wsSUFBSSxJQUFJLENBQUNoQixXQUFXLElBQUlDLEtBQUtJLFNBQVMsRUFBRTtZQUN0Q0osS0FBS0ksU0FBUyxDQUFDVyxJQUFJO1lBQ25CZixLQUFLSSxTQUFT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K0RBQWUzRyxXQUFXQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi9hdWRpby9BdWRpb0VuZ2luZS50cz9lYThjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyBcbiAgVHJhbnNwb3J0LCBcbiAgRGVzdGluYXRpb24sIFxuICBzdGFydCwgXG4gIFBsYXllciwgXG4gIFBvbHlTeW50aCwgXG4gIFN5bnRoLCBcbiAgTWVtYnJhbmVTeW50aCwgXG4gIENoYW5uZWwsIFxuICBSZWNvcmRlciwgXG4gIFJldmVyYiwgXG4gIEZlZWRiYWNrRGVsYXksIFxuICBEaXN0b3J0aW9uLCBcbiAgRmlsdGVyLFxuICBJbnN0cnVtZW50LFxuICBFZmZlY3Rcbn0gZnJvbSAndG9uZSdcblxuZXhwb3J0IGludGVyZmFjZSBUcmFjayB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHZvbHVtZTogbnVtYmVyXG4gIG11dGVkOiBib29sZWFuXG4gIHNvbG86IGJvb2xlYW5cbiAgaW5zdHJ1bWVudDogSW5zdHJ1bWVudCB8IG51bGxcbiAgZWZmZWN0czogRWZmZWN0W11cbiAgY2hhbm5lbDogQ2hhbm5lbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvRW5naW5lU3RhdGUge1xuICBpc1BsYXlpbmc6IGJvb2xlYW5cbiAgaXNSZWNvcmRpbmc6IGJvb2xlYW5cbiAgYnBtOiBudW1iZXJcbiAgcG9zaXRpb246IHN0cmluZ1xuICB0cmFja3M6IFRyYWNrW11cbn1cblxuY2xhc3MgQXVkaW9FbmdpbmUge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQXVkaW9FbmdpbmVcbiAgcHJpdmF0ZSBpbml0aWFsaXplZCA9IGZhbHNlXG4gIHByaXZhdGUgdHJhY2tzOiBNYXA8c3RyaW5nLCBUcmFjaz4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBtYWluT3V0OiBUb25lLkRlc3RpbmF0aW9uXG4gIHByaXZhdGUgcmVjb3JkZXI6IFRvbmUuUmVjb3JkZXIgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIG1ldHJvbm9tZTogVG9uZS5QbGF5ZXIgfCBudWxsID0gbnVsbFxuICBcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tYWluT3V0ID0gVG9uZS5EZXN0aW5hdGlvblxuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IEF1ZGlvRW5naW5lIHtcbiAgICBpZiAoIUF1ZGlvRW5naW5lLmluc3RhbmNlKSB7XG4gICAgICBBdWRpb0VuZ2luZS5pbnN0YW5jZSA9IG5ldyBBdWRpb0VuZ2luZSgpXG4gICAgfVxuICAgIHJldHVybiBBdWRpb0VuZ2luZS5pbnN0YW5jZVxuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICBpZiAodGhpcy5pbml0aWFsaXplZCkgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgVG9uZS5zdGFydCgpXG4gICAgICBjb25zb2xlLmxvZygnQXVkaW8gY29udGV4dCBzdGFydGVkJylcbiAgICAgIFxuICAgICAgLy8gU2V0IGluaXRpYWwgQlBNXG4gICAgICBUb25lLlRyYW5zcG9ydC5icG0udmFsdWUgPSAxMjBcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIG1ldHJvbm9tZVxuICAgICAgdGhpcy5tZXRyb25vbWUgPSBuZXcgVG9uZS5QbGF5ZXIoe1xuICAgICAgICB1cmw6ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1Jub0dBQUJYUVZaRlptMTBJQkFBQUFBQkFBRUFRQjhBQUVBZkFBQUJBQWdBWkdGMFlRb0dBQUNCaFlxRmJGMWZkSml2ckpCaE5qVmdvZERicTJFY0JqK2EyL0xEY2lVRkxJSE84dGlKTndnWmFMdnQ1NTlORUF4UXArUHd0bU1jQmppUjEvTE1lU3dGSkhmSDhOMlFRQW9VWHJUcDY2aFZGQXBHbitEeXZtd2hDRWROZWdBJyxcbiAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgIH0pLnRvRGVzdGluYXRpb24oKVxuXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBhdWRpbzonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvLyBUcmFuc3BvcnQgQ29udHJvbHNcbiAgYXN5bmMgcGxheSgpIHtcbiAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKVxuICAgIGlmIChUb25lLlRyYW5zcG9ydCkge1xuICAgICAgVG9uZS5UcmFuc3BvcnQuc3RhcnQoKVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQgJiYgVG9uZS5UcmFuc3BvcnQpIHtcbiAgICAgIFRvbmUuVHJhbnNwb3J0LnBhdXNlKClcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkICYmIFRvbmUuVHJhbnNwb3J0KSB7XG4gICAgICBUb25lLlRyYW5zcG9ydC5zdG9wKClcbiAgICAgIFRvbmUuVHJhbnNwb3J0LnBvc2l0aW9uID0gMFxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHN0YXJ0UmVjb3JkaW5nKCkge1xuICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpXG4gICAgaWYgKCF0aGlzLnJlY29yZGVyKSB7XG4gICAgICB0aGlzLnJlY29yZGVyID0gbmV3IFRvbmUuUmVjb3JkZXIoKVxuICAgICAgdGhpcy5tYWluT3V0LmNvbm5lY3QodGhpcy5yZWNvcmRlcilcbiAgICB9XG4gICAgdGhpcy5yZWNvcmRlci5zdGFydCgpXG4gICAgdGhpcy5wbGF5KClcbiAgfVxuXG4gIGFzeW5jIHN0b3BSZWNvcmRpbmcoKTogUHJvbWlzZTxCbG9iIHwgbnVsbD4ge1xuICAgIGlmICghdGhpcy5yZWNvcmRlcikgcmV0dXJuIG51bGxcbiAgICBcbiAgICBjb25zdCByZWNvcmRpbmcgPSBhd2FpdCB0aGlzLnJlY29yZGVyLnN0b3AoKVxuICAgIHRoaXMuc3RvcCgpXG4gICAgcmV0dXJuIHJlY29yZGluZ1xuICB9XG5cbiAgLy8gVHJhY2sgTWFuYWdlbWVudFxuICBjcmVhdGVUcmFjayhuYW1lOiBzdHJpbmcsIHR5cGU6ICdhdWRpbycgfCAnbWlkaScgfCAnZHJ1bScgPSAnYXVkaW8nKTogc3RyaW5nIHtcbiAgICBjb25zdCBpZCA9IGB0cmFja18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWBcbiAgICBcbiAgICBsZXQgaW5zdHJ1bWVudDogVG9uZS5JbnN0cnVtZW50XG4gICAgXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdtaWRpJzpcbiAgICAgICAgaW5zdHJ1bWVudCA9IG5ldyBUb25lLlBvbHlTeW50aChUb25lLlN5bnRoKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZHJ1bSc6XG4gICAgICAgIGluc3RydW1lbnQgPSBuZXcgVG9uZS5NZW1icmFuZVN5bnRoKClcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGluc3RydW1lbnQgPSBuZXcgVG9uZS5QbGF5ZXIoKS50b0Rlc3RpbmF0aW9uKClcbiAgICB9XG5cbiAgICBjb25zdCBjaGFubmVsID0gbmV3IFRvbmUuQ2hhbm5lbCgpLnRvRGVzdGluYXRpb24oKVxuICAgIGluc3RydW1lbnQuY29ubmVjdChjaGFubmVsKVxuXG4gICAgY29uc3QgdHJhY2s6IFRyYWNrID0ge1xuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgdm9sdW1lOiAwLCAvLyAwIGRCXG4gICAgICBtdXRlZDogZmFsc2UsXG4gICAgICBzb2xvOiBmYWxzZSxcbiAgICAgIGluc3RydW1lbnQsXG4gICAgICBlZmZlY3RzOiBbXSxcbiAgICAgIGNoYW5uZWxcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrcy5zZXQoaWQsIHRyYWNrKVxuICAgIHJldHVybiBpZFxuICB9XG5cbiAgZ2V0VHJhY2soaWQ6IHN0cmluZyk6IFRyYWNrIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy50cmFja3MuZ2V0KGlkKVxuICB9XG5cbiAgZ2V0QWxsVHJhY2tzKCk6IFRyYWNrW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudHJhY2tzLnZhbHVlcygpKVxuICB9XG5cbiAgZGVsZXRlVHJhY2soaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHRyYWNrID0gdGhpcy50cmFja3MuZ2V0KGlkKVxuICAgIGlmICh0cmFjaykge1xuICAgICAgdHJhY2suaW5zdHJ1bWVudD8uZGlzcG9zZSgpXG4gICAgICB0cmFjay5jaGFubmVsLmRpc3Bvc2UoKVxuICAgICAgdHJhY2suZWZmZWN0cy5mb3JFYWNoKGVmZmVjdCA9PiBlZmZlY3QuZGlzcG9zZSgpKVxuICAgICAgdGhpcy50cmFja3MuZGVsZXRlKGlkKVxuICAgIH1cbiAgfVxuXG4gIC8vIFRyYWNrIENvbnRyb2xzXG4gIHNldFRyYWNrVm9sdW1lKHRyYWNrSWQ6IHN0cmluZywgdm9sdW1lOiBudW1iZXIpIHtcbiAgICBjb25zdCB0cmFjayA9IHRoaXMudHJhY2tzLmdldCh0cmFja0lkKVxuICAgIGlmICh0cmFjaykge1xuICAgICAgdHJhY2sudm9sdW1lID0gdm9sdW1lXG4gICAgICB0cmFjay5jaGFubmVsLnZvbHVtZS52YWx1ZSA9IHZvbHVtZVxuICAgIH1cbiAgfVxuXG4gIHNldFRyYWNrTXV0ZSh0cmFja0lkOiBzdHJpbmcsIG11dGVkOiBib29sZWFuKSB7XG4gICAgY29uc3QgdHJhY2sgPSB0aGlzLnRyYWNrcy5nZXQodHJhY2tJZClcbiAgICBpZiAodHJhY2spIHtcbiAgICAgIHRyYWNrLm11dGVkID0gbXV0ZWRcbiAgICAgIHRyYWNrLmNoYW5uZWwubXV0ZSA9IG11dGVkXG4gICAgfVxuICB9XG5cbiAgc2V0VHJhY2tTb2xvKHRyYWNrSWQ6IHN0cmluZywgc29sbzogYm9vbGVhbikge1xuICAgIGNvbnN0IHRyYWNrID0gdGhpcy50cmFja3MuZ2V0KHRyYWNrSWQpXG4gICAgaWYgKHRyYWNrKSB7XG4gICAgICB0cmFjay5zb2xvID0gc29sb1xuICAgICAgLy8gSW1wbGVtZW50IHNvbG8gbG9naWMgLSBtdXRlIG90aGVyIHRyYWNrcyB3aGVuIG9uZSBpcyBzb2xvZWRcbiAgICAgIGNvbnN0IGhhc1NvbG9UcmFja3MgPSBBcnJheS5mcm9tKHRoaXMudHJhY2tzLnZhbHVlcygpKS5zb21lKHQgPT4gdC5zb2xvKVxuICAgICAgXG4gICAgICB0aGlzLnRyYWNrcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgICBpZiAoaGFzU29sb1RyYWNrcykge1xuICAgICAgICAgIHQuY2hhbm5lbC5tdXRlID0gIXQuc29sb1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQuY2hhbm5lbC5tdXRlID0gdC5tdXRlZFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8vIEF1ZGlvIExvYWRpbmdcbiAgYXN5bmMgbG9hZEF1ZGlvVG9UcmFjayh0cmFja0lkOiBzdHJpbmcsIGF1ZGlvVXJsOiBzdHJpbmcpIHtcbiAgICBjb25zdCB0cmFjayA9IHRoaXMudHJhY2tzLmdldCh0cmFja0lkKVxuICAgIGlmICh0cmFjayAmJiB0cmFjay5pbnN0cnVtZW50IGluc3RhbmNlb2YgVG9uZS5QbGF5ZXIpIHtcbiAgICAgIGF3YWl0IHRyYWNrLmluc3RydW1lbnQubG9hZChhdWRpb1VybClcbiAgICB9XG4gIH1cblxuICAvLyBNSURJIFBsYXliYWNrXG4gIHBsYXlOb3RlKHRyYWNrSWQ6IHN0cmluZywgbm90ZTogc3RyaW5nLCBkdXJhdGlvbjogc3RyaW5nID0gJzhuJywgdGltZT86IG51bWJlcikge1xuICAgIGNvbnN0IHRyYWNrID0gdGhpcy50cmFja3MuZ2V0KHRyYWNrSWQpXG4gICAgaWYgKHRyYWNrICYmIHRyYWNrLmluc3RydW1lbnQpIHtcbiAgICAgIGlmICh0cmFjay5pbnN0cnVtZW50IGluc3RhbmNlb2YgVG9uZS5Qb2x5U3ludGgpIHtcbiAgICAgICAgdHJhY2suaW5zdHJ1bWVudC50cmlnZ2VyQXR0YWNrUmVsZWFzZShub3RlLCBkdXJhdGlvbiwgdGltZSlcbiAgICAgIH0gZWxzZSBpZiAodHJhY2suaW5zdHJ1bWVudCBpbnN0YW5jZW9mIFRvbmUuTWVtYnJhbmVTeW50aCkge1xuICAgICAgICB0cmFjay5pbnN0cnVtZW50LnRyaWdnZXJBdHRhY2tSZWxlYXNlKG5vdGUsIGR1cmF0aW9uLCB0aW1lKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEVmZmVjdHNcbiAgYWRkRWZmZWN0KHRyYWNrSWQ6IHN0cmluZywgZWZmZWN0VHlwZTogJ3JldmVyYicgfCAnZGVsYXknIHwgJ2Rpc3RvcnRpb24nIHwgJ2ZpbHRlcicpIHtcbiAgICBjb25zdCB0cmFjayA9IHRoaXMudHJhY2tzLmdldCh0cmFja0lkKVxuICAgIGlmICghdHJhY2spIHJldHVyblxuXG4gICAgbGV0IGVmZmVjdDogVG9uZS5FZmZlY3RcblxuICAgIHN3aXRjaCAoZWZmZWN0VHlwZSkge1xuICAgICAgY2FzZSAncmV2ZXJiJzpcbiAgICAgICAgZWZmZWN0ID0gbmV3IFRvbmUuUmV2ZXJiKDIpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdkZWxheSc6XG4gICAgICAgIGVmZmVjdCA9IG5ldyBUb25lLkZlZWRiYWNrRGVsYXkoJzhuJywgMC4zKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZGlzdG9ydGlvbic6XG4gICAgICAgIGVmZmVjdCA9IG5ldyBUb25lLkRpc3RvcnRpb24oMC44KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZmlsdGVyJzpcbiAgICAgICAgZWZmZWN0ID0gbmV3IFRvbmUuRmlsdGVyKDEwMDAsICdsb3dwYXNzJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIEluc2VydCBlZmZlY3QgYmVmb3JlIHRoZSBjaGFubmVsXG4gICAgdHJhY2suaW5zdHJ1bWVudD8uZGlzY29ubmVjdCgpXG4gICAgdHJhY2suaW5zdHJ1bWVudD8uY2hhaW4oZWZmZWN0LCB0cmFjay5jaGFubmVsKVxuICAgIHRyYWNrLmVmZmVjdHMucHVzaChlZmZlY3QpXG4gIH1cblxuICAvLyBUcmFuc3BvcnQgQ29udHJvbFxuICBzZXRCUE0oYnBtOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5pbml0aWFsaXplZCAmJiBUb25lLlRyYW5zcG9ydCkge1xuICAgICAgVG9uZS5UcmFuc3BvcnQuYnBtLnZhbHVlID0gYnBtXG4gICAgfVxuICB9XG5cbiAgZ2V0QlBNKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQgJiYgVG9uZS5UcmFuc3BvcnQpIHtcbiAgICAgIHJldHVybiBUb25lLlRyYW5zcG9ydC5icG0udmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIDEyMFxuICB9XG5cbiAgZ2V0UG9zaXRpb24oKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5pbml0aWFsaXplZCAmJiBUb25lLlRyYW5zcG9ydCkge1xuICAgICAgcmV0dXJuIFRvbmUuVHJhbnNwb3J0LnBvc2l0aW9uLnRvU3RyaW5nKClcbiAgICB9XG4gICAgcmV0dXJuICcwOjA6MCdcbiAgfVxuXG4gIHNldFBvc2l0aW9uKHBvc2l0aW9uOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5pbml0aWFsaXplZCAmJiBUb25lLlRyYW5zcG9ydCkge1xuICAgICAgVG9uZS5UcmFuc3BvcnQucG9zaXRpb24gPSBwb3NpdGlvblxuICAgIH1cbiAgfVxuXG4gIC8vIExvb3AgQ29udHJvbFxuICBzZXRMb29wKHN0YXJ0OiBzdHJpbmcsIGVuZDogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQgJiYgVG9uZS5UcmFuc3BvcnQpIHtcbiAgICAgIFRvbmUuVHJhbnNwb3J0LnNldExvb3BQb2ludHMoc3RhcnQsIGVuZClcbiAgICAgIFRvbmUuVHJhbnNwb3J0Lmxvb3AgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZUxvb3AoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQgJiYgVG9uZS5UcmFuc3BvcnQpIHtcbiAgICAgIFRvbmUuVHJhbnNwb3J0Lmxvb3AgPSBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIC8vIE1ldHJvbm9tZVxuICB0b2dnbGVNZXRyb25vbWUoZW5hYmxlZDogYm9vbGVhbikge1xuICAgIGlmICghdGhpcy5tZXRyb25vbWUgfHwgIXRoaXMuaW5pdGlhbGl6ZWQgfHwgIVRvbmUuVHJhbnNwb3J0KSByZXR1cm5cblxuICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAvLyBTY2hlZHVsZSBtZXRyb25vbWUgY2xpY2tzIG9uIGV2ZXJ5IGJlYXRcbiAgICAgIFRvbmUuVHJhbnNwb3J0LnNjaGVkdWxlUmVwZWF0KCh0aW1lKSA9PiB7XG4gICAgICAgIHRoaXMubWV0cm9ub21lPy5zdGFydCh0aW1lKVxuICAgICAgfSwgJzRuJylcbiAgICB9IGVsc2Uge1xuICAgICAgVG9uZS5UcmFuc3BvcnQuY2FuY2VsKClcbiAgICB9XG4gIH1cblxuICAvLyBTdGF0ZVxuICBnZXRTdGF0ZSgpOiBBdWRpb0VuZ2luZVN0YXRlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNQbGF5aW5nOiB0aGlzLmluaXRpYWxpemVkICYmIFRvbmUuVHJhbnNwb3J0Py5zdGF0ZSA9PT0gJ3N0YXJ0ZWQnLFxuICAgICAgaXNSZWNvcmRpbmc6IHRoaXMucmVjb3JkZXI/LnN0YXRlID09PSAnc3RhcnRlZCcgfHwgZmFsc2UsXG4gICAgICBicG06IHRoaXMuaW5pdGlhbGl6ZWQgPyB0aGlzLmdldEJQTSgpIDogMTIwLFxuICAgICAgcG9zaXRpb246IHRoaXMuaW5pdGlhbGl6ZWQgPyB0aGlzLmdldFBvc2l0aW9uKCkgOiAnMDowOjAnLFxuICAgICAgdHJhY2tzOiB0aGlzLmdldEFsbFRyYWNrcygpXG4gICAgfVxuICB9XG5cbiAgLy8gQ2xlYW51cFxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMudHJhY2tzLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgdHJhY2suaW5zdHJ1bWVudD8uZGlzcG9zZSgpXG4gICAgICB0cmFjay5jaGFubmVsLmRpc3Bvc2UoKVxuICAgICAgdHJhY2suZWZmZWN0cy5mb3JFYWNoKGVmZmVjdCA9PiBlZmZlY3QuZGlzcG9zZSgpKVxuICAgIH0pXG4gICAgdGhpcy50cmFja3MuY2xlYXIoKVxuICAgIHRoaXMucmVjb3JkZXI/LmRpc3Bvc2UoKVxuICAgIHRoaXMubWV0cm9ub21lPy5kaXNwb3NlKClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBdWRpb0VuZ2luZSJdLCJuYW1lcyI6WyJBdWRpb0VuZ2luZSIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJpbml0aWFsaXplIiwiaW5pdGlhbGl6ZWQiLCJUb25lIiwic3RhcnQiLCJjb25zb2xlIiwibG9nIiwiVHJhbnNwb3J0IiwiYnBtIiwidmFsdWUiLCJtZXRyb25vbWUiLCJQbGF5ZXIiLCJ1cmwiLCJsb29wIiwidG9EZXN0aW5hdGlvbiIsImVycm9yIiwicGxheSIsInBhdXNlIiwic3RvcCIsInBvc2l0aW9uIiwic3RhcnRSZWNvcmRpbmciLCJyZWNvcmRlciIsIlJlY29yZGVyIiwibWFpbk91dCIsImNvbm5lY3QiLCJzdG9wUmVjb3JkaW5nIiwicmVjb3JkaW5nIiwiY3JlYXRlVHJhY2siLCJuYW1lIiwidHlwZSIsImlkIiwiTWF0aCIsIkRhdGUiLCJub3ciLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImluc3RydW1lbnQiLCJQb2x5U3ludGgiLCJTeW50aCIsIk1lbWJyYW5lU3ludGgiLCJjaGFubmVsIiwiQ2hhbm5lbCIsInRyYWNrIiwidm9sdW1lIiwibXV0ZWQiLCJzb2xvIiwiZWZmZWN0cyIsInRyYWNrcyIsInNldCIsImdldFRyYWNrIiwiZ2V0IiwiZ2V0QWxsVHJhY2tzIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZGVsZXRlVHJhY2siLCJkaXNwb3NlIiwiZm9yRWFjaCIsImVmZmVjdCIsImRlbGV0ZSIsInNldFRyYWNrVm9sdW1lIiwidHJhY2tJZCIsInNldFRyYWNrTXV0ZSIsIm11dGUiLCJzZXRUcmFja1NvbG8iLCJoYXNTb2xvVHJhY2tzIiwic29tZSIsInQiLCJsb2FkQXVkaW9Ub1RyYWNrIiwiYXVkaW9VcmwiLCJsb2FkIiwicGxheU5vdGUiLCJub3RlIiwiZHVyYXRpb24iLCJ0aW1lIiwidHJpZ2dlckF0dGFja1JlbGVhc2UiLCJhZGRFZmZlY3QiLCJlZmZlY3RUeXBlIiwiUmV2ZXJiIiwiRmVlZGJhY2tEZWxheSIsIkRpc3RvcnRpb24iLCJGaWx0ZXIiLCJkaXNjb25uZWN0IiwiY2hhaW4iLCJwdXNoIiwic2V0QlBNIiwiZ2V0QlBNIiwiZ2V0UG9zaXRpb24iLCJzZXRQb3NpdGlvbiIsInNldExvb3AiLCJlbmQiLCJzZXRMb29wUG9pbnRzIiwiZGlzYWJsZUxvb3AiLCJ0b2dnbGVNZXRyb25vbWUiLCJlbmFibGVkIiwic2NoZWR1bGVSZXBlYXQiLCJjYW5jZWwiLCJnZXRTdGF0ZSIsImlzUGxheWluZyIsInN0YXRlIiwiaXNSZWNvcmRpbmciLCJjbGVhciIsImNvbnN0cnVjdG9yIiwiTWFwIiwiRGVzdGluYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/audio/AudioEngine.ts\n"));

/***/ })

});